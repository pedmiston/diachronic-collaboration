---
title: "The success of iteration and teamwork as strategies for winning Kaggle competitions"
author: "Pierce Edmiston"
output:
  html_document:
    theme: flatly
    toc: true
    toc_depth: 1
---

Kaggle competitions are data-oriented challenges in which teams and individuals use statistics and machine learning to make accurate predictions about unlabeled data. Teams can use any number of methods to generate the predictions. Some methods work better for some problems than others, but what strategies work for all problems? This report investigates the success of two possible strategies to completing Kaggle competitions: **iteration** and **team size**. Iteration as a strategy in a Kaggle competition is making multiple submissions with the goal of incrementally improving performance each time. Do teams that make more submissions have a better chance of winning? The second strategy is the effect of team size. How much do additional teammates improve a team's chance of success?

```{r config, echo = FALSE}
library(knitr)
library(broom)
library(printr)

opts_chunk$set(
  echo = FALSE,
  message = FALSE,
  warning = FALSE,
  dev = c("svg", "png"),
  fig.path = "figs/",
  fig.height = 3.5,
  fig.width = 4,
  cache = TRUE,
  cache.path = ".cache/"
)

read_chunk("R/setup.R")
read_chunk("R/theme.R")
read_chunk("R/submissions.R")
read_chunk("R/submission-interval.R")
read_chunk("R/team-types.R")
read_chunk("R/team-size.R")
```

```{r setup}
```

```{r theme}
```

# What is Kaggle?

[Kaggle competitions](https://kaggle.com) are data-oriented challenges in which teams and individuals use statistics and machine learning to make accurate predictions about unlabeled data. For example, a standard Kaggle competition is to predict the survivors of the Titanic. Given a passenger's ticket information, how accurately can teams predict whether or not the passenger survived? This example is a bit more morbid than usual, but otherwise it's illustrative of the fact that perfect performance is rarely possible in a Kaggle competition. It's likely impossible to predict exactly who survived the Titanic based only on ticket information, but people can do far better than chance. The way teams improve their predictions is by using statistics and machine learning to generate more and more accurate predictions. Teams can use any method in statistics and machine learning to generate the predictions, which means there are many possible solutions to any Kaggle competition. The goal of this report is to determine whether iteration and team size are successful strategies to approaching Kaggle competitions regardless of what specific method is being used.

# Iteration

Iteration as a strategy for solving a Kaggle competition is exhibited by teams making many submissions, each incrementally improving upon the previous ones. In this section I explore whether this is a worthwhile strategy for competing in a data science competition.

## Do teams that make more submissions tend to do better?

Averaging the number of submissions made by teams finishing in each of the top 100 places reveals that top place teams make more submissions than lower place teams.

```{r submissions-per-place}
```

The analysis above averages by place across competitions. A different way to summarize the data is to first transform the number of submissions to be relative to the number of submissions made by the first place team within each competition. This transformation allows for better alignment across competitions. The results revealed an even stronger relationship between place and submissions. Within each competition, top place teams make more submissions than lower place teams.

```{r relative-submissions-per-place}
```

The descriptive analyses above revealed that top place teams made more submissions. To test the prediction that making more submissions is associated with better placement in the competition, I fit a hierarchical linear model predicting place from number of submissions with random effects for competition. The results revealed a significant relationship such that teams that make more submissions tend to place better in the competition.

```{r place-from-submissions-mod, echo = 1}
```

```{r place-from-submissions-mod-results, results = 'asis'}
tidy(place_mod, effects = "fixed") %>%
  # cols: term, est, se, stat, pval
  kable(digits = c(NA, 4, 4, 1, 5))
```

```{r place-from-submissions}
```

Note the left skew in the distribution of submissions. The majority of teams submit less than 10 submissions total.

## Do teams that make many submissions tend to improve each time?

However, even this analysis is an inadequate test of the primary hypothesis because it does not reflect the ability of each team incrementally improving their solution over iterative solutions. If iteration is associated with an improvement in solution success, then as teams generate more and more solutions they should improve in place each time.

To do this analysis across competitions with different distributions of scores, I needed to assign each (pre-final) submission a predicted place based on how that score would have placed against the final leaderboard. Then the question of whether additional submissions tend to improve place can be answered.

```{r predicted-place-from-submission}
```

Kaggle competitors that make more submissions tend to place higher in the final standings in part because solutions tend to improve iteratively over submissions.

## Do teams that make more submissions simply spend more time on the problem?

```{r submission-interval-per-place}
```

```{r prop-time-per-place}
```

## Correlation between number of submissions and submission interval

```{r team-types-quartet, fig.width = 6, fig.height = 5.25}
```

```{r team-types-density}
```

```{r team-types-place}
```

```{r top-100-submissions-by-time}
```

# Team size

Another likely factor in determining the success of a Kaggle competitor is the size of the team. Although by far most Kaggle competition solutions are submitted by individuals, many different team sizes are possible. It turns out that top place teams are more likely to have additional teammates.

```{r teamsize-from-place}
```

As with the analysis of submissions by place above, showing that top place teams tend to be larger is not the same as showing that adding a team member improves your likely place in the standings. A more accurate depiction is below, where place is estimated by team size.

```{r place-from-teamsize}
```

The horizontal extent of the above chart is misleading in that the vast majority of teams are only a single individual. Zooming in on the most common team sizes reveals the expected positive relationship.

```{r place-from-teamsize-zoom}
```

## Do teams that are bigger tend to make more submissions?

```{r team-size-submissions-correlation}
```

```{r submissions-by-team-size-per-place}
```
